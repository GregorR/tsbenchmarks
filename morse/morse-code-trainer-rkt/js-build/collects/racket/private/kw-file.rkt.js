import * as $rjs_core from '../../../runtime/core.js';import * as M0 from "./kw.rkt.js";import * as M1 from "./map.rkt.js";import * as M2 from "./member.rkt.js";import * as M3 from "../../../runtime/kernel.rkt.js";import * as M4 from "./path.rkt.js";import * as M5 from "./sort.rkt.js";var exists_syms = $rjs_core.Pair.makeList($rjs_core.Symbol.make("error"), $rjs_core.Symbol.make("append"), $rjs_core.Symbol.make("update"), $rjs_core.Symbol.make("can-update"), $rjs_core.Symbol.make("replace"), $rjs_core.Symbol.make("truncate"), $rjs_core.Symbol.make("must-truncate"), $rjs_core.Symbol.make("truncate/replace"));var exists_desc = "(or/c 'error 'append 'update 'can-update 'replace 'truncate 'must-truncate 'truncate/replace)";var binary_or_text_desc = "(or/c 'binary 'text)";var open_input_file6 = function(for_module_p22878, for_module_p42879, mode12880, mode32881, path52882) {var path2883 = path52882;if (mode32881) {var if_res1716 = mode12880;} else {var if_res1716 = $rjs_core.Symbol.make("binary");}var mode2884 = if_res1716;if (for_module_p42879) {var if_res1717 = for_module_p22878;} else {var if_res1717 = false;}var for_module_p2885 = if_res1717;if (M4.path_string_p(path2883)) {var if_res1718 = M3.rvoid();} else {var if_res1718 = M3.raise_argument_error($rjs_core.Symbol.make("open-input-file"),"path-string?",path2883);}if_res1718;if (M2.memq(mode2884,$rjs_core.Pair.makeList($rjs_core.Symbol.make("binary"), $rjs_core.Symbol.make("text")))) {var if_res1719 = M3.rvoid();} else {var if_res1719 = M3.raise_argument_error($rjs_core.Symbol.make("open-input-file"),binary_or_text_desc,mode2884);}if_res1719;if (for_module_p2885) {var if_res1720 = $rjs_core.Symbol.make("module");} else {var if_res1720 = $rjs_core.Symbol.make("none");}return M3.open_input_file(path2883,mode2884,if_res1720);};var unpack7 = function(given_kws2886, given_args2887, path52888) {if (M3.pair_p(given_kws2886)) {var if_res1721 = M3.eq_p($rjs_core.Keyword.make('#:for-module?'),M3.car(given_kws2886));} else {var if_res1721 = false;}var for_module_p42889 = if_res1721;if (for_module_p42889) {var if_res1722 = M3.car(given_args2887);} else {var if_res1722 = M3.rvoid();}var for_module_p22890 = if_res1722;if (for_module_p42889) {var if_res1723 = M3.cdr(given_kws2886);} else {var if_res1723 = given_kws2886;}var given_kws2891 = if_res1723;if (for_module_p42889) {var if_res1724 = M3.cdr(given_args2887);} else {var if_res1724 = given_args2887;}var given_args2892 = if_res1724;var mode32893 = M3.pair_p(given_kws2891);if (mode32893) {var if_res1725 = M3.car(given_args2892);} else {var if_res1725 = M3.rvoid();}var mode12894 = if_res1725;return open_input_file6(for_module_p22890,for_module_p42889,mode12894,mode32893,path52888);};var cl1728 = function(given_kws2901, given_args2902, path2903) {return unpack7(given_kws2901,given_args2902,path2903);};var temp1730 = $rjs_core.attachProcedureArity(function() {var fixed_lam1729 = {'3':cl1728}[arguments.length];if (fixed_lam1729!==undefined) {return fixed_lam1729.apply(null,arguments);} else {return M3.error("case-lambda: invalid case");}},[3]);var cl1726 = function(path2905) {return unpack7(M3.rnull,M3.rnull,path2905);};var open_input_file2904 = $rjs_core.attachProcedureArity(function() {var fixed_lam1727 = {'1':cl1726}[arguments.length];if (fixed_lam1727!==undefined) {return fixed_lam1727.apply(null,arguments);} else {return M3.error("case-lambda: invalid case");}},[1]);var open_input_file8 = M0.__rjs_quoted__.make_optional_keyword_procedure(function(given_kws2895, given_argc2896) {if (M3._eq_(given_argc2896,3)) {var l12897 = given_kws2895;if (M3.null_p(l12897)) {var if_res1732 = l12897;} else {if (M3.eq_p(M3.car(l12897),$rjs_core.Keyword.make('#:for-module?'))) {var if_res1731 = M3.cdr(l12897);} else {var if_res1731 = l12897;}var if_res1732 = if_res1731;}var l12898 = if_res1732;var l12899 = l12898;if (M3.null_p(l12899)) {var if_res1734 = l12899;} else {if (M3.eq_p(M3.car(l12899),$rjs_core.Keyword.make('#:mode'))) {var if_res1733 = M3.cdr(l12899);} else {var if_res1733 = l12899;}var if_res1734 = if_res1733;}var l12900 = if_res1734;var if_res1735 = M3.null_p(l12900);} else {var if_res1735 = false;}return if_res1735;},temp1730,M3.rnull,$rjs_core.Pair.makeList($rjs_core.Keyword.make('#:for-module?'), $rjs_core.Keyword.make('#:mode')),open_input_file2904);var open_output_file14 = function(exists102906, exists122907, mode92908, mode112909, path132910) {var path2911 = path132910;if (mode112909) {var if_res1736 = mode92908;} else {var if_res1736 = $rjs_core.Symbol.make("binary");}var mode2912 = if_res1736;if (exists122907) {var if_res1737 = exists102906;} else {var if_res1737 = $rjs_core.Symbol.make("error");}var exists2913 = if_res1737;if (M4.path_string_p(path2911)) {var if_res1738 = M3.rvoid();} else {var if_res1738 = M3.raise_argument_error($rjs_core.Symbol.make("open-output-file"),"path-string?",path2911);}if_res1738;if (M2.memq(mode2912,$rjs_core.Pair.makeList($rjs_core.Symbol.make("binary"), $rjs_core.Symbol.make("text")))) {var if_res1739 = M3.rvoid();} else {var if_res1739 = M3.raise_argument_error($rjs_core.Symbol.make("open-output-file"),binary_or_text_desc,mode2912);}if_res1739;if (M2.memq(exists2913,exists_syms)) {var if_res1740 = M3.rvoid();} else {var if_res1740 = M3.raise_argument_error($rjs_core.Symbol.make("open-output-file"),exists_desc,exists2913);}if_res1740;return M3.open_output_file(path2911,mode2912,exists2913);};var unpack15 = function(given_kws2914, given_args2915, path132916) {if (M3.pair_p(given_kws2914)) {var if_res1741 = M3.eq_p($rjs_core.Keyword.make('#:exists'),M3.car(given_kws2914));} else {var if_res1741 = false;}var exists122917 = if_res1741;if (exists122917) {var if_res1742 = M3.car(given_args2915);} else {var if_res1742 = M3.rvoid();}var exists102918 = if_res1742;if (exists122917) {var if_res1743 = M3.cdr(given_kws2914);} else {var if_res1743 = given_kws2914;}var given_kws2919 = if_res1743;if (exists122917) {var if_res1744 = M3.cdr(given_args2915);} else {var if_res1744 = given_args2915;}var given_args2920 = if_res1744;var mode112921 = M3.pair_p(given_kws2919);if (mode112921) {var if_res1745 = M3.car(given_args2920);} else {var if_res1745 = M3.rvoid();}var mode92922 = if_res1745;return open_output_file14(exists102918,exists122917,mode92922,mode112921,path132916);};var cl1748 = function(given_kws2929, given_args2930, path2931) {return unpack15(given_kws2929,given_args2930,path2931);};var temp1750 = $rjs_core.attachProcedureArity(function() {var fixed_lam1749 = {'3':cl1748}[arguments.length];if (fixed_lam1749!==undefined) {return fixed_lam1749.apply(null,arguments);} else {return M3.error("case-lambda: invalid case");}},[3]);var cl1746 = function(path2933) {return unpack15(M3.rnull,M3.rnull,path2933);};var open_output_file2932 = $rjs_core.attachProcedureArity(function() {var fixed_lam1747 = {'1':cl1746}[arguments.length];if (fixed_lam1747!==undefined) {return fixed_lam1747.apply(null,arguments);} else {return M3.error("case-lambda: invalid case");}},[1]);var open_output_file16 = M0.__rjs_quoted__.make_optional_keyword_procedure(function(given_kws2923, given_argc2924) {if (M3._eq_(given_argc2924,3)) {var l12925 = given_kws2923;if (M3.null_p(l12925)) {var if_res1752 = l12925;} else {if (M3.eq_p(M3.car(l12925),$rjs_core.Keyword.make('#:exists'))) {var if_res1751 = M3.cdr(l12925);} else {var if_res1751 = l12925;}var if_res1752 = if_res1751;}var l12926 = if_res1752;var l12927 = l12926;if (M3.null_p(l12927)) {var if_res1754 = l12927;} else {if (M3.eq_p(M3.car(l12927),$rjs_core.Keyword.make('#:mode'))) {var if_res1753 = M3.cdr(l12927);} else {var if_res1753 = l12927;}var if_res1754 = if_res1753;}var l12928 = if_res1754;var if_res1755 = M3.null_p(l12928);} else {var if_res1755 = false;}return if_res1755;},temp1750,M3.rnull,$rjs_core.Pair.makeList($rjs_core.Keyword.make('#:exists'), $rjs_core.Keyword.make('#:mode')),open_output_file2932);var open_input_output_file22 = function(exists182934, exists202935, mode172936, mode192937, path212938) {var path2939 = path212938;if (mode192937) {var if_res1756 = mode172936;} else {var if_res1756 = $rjs_core.Symbol.make("binary");}var mode2940 = if_res1756;if (exists202935) {var if_res1757 = exists182934;} else {var if_res1757 = $rjs_core.Symbol.make("error");}var exists2941 = if_res1757;if (M4.path_string_p(path2939)) {var if_res1758 = M3.rvoid();} else {var if_res1758 = M3.raise_argument_error($rjs_core.Symbol.make("open-input-output-file"),"path-string?",path2939);}if_res1758;if (M2.memq(mode2940,$rjs_core.Pair.makeList($rjs_core.Symbol.make("binary"), $rjs_core.Symbol.make("text")))) {var if_res1759 = M3.rvoid();} else {var if_res1759 = M3.raise_argument_error($rjs_core.Symbol.make("open-input-output-file"),binary_or_text_desc,mode2940);}if_res1759;if (M2.memq(exists2941,exists_syms)) {var if_res1760 = M3.rvoid();} else {var if_res1760 = M3.raise_argument_error($rjs_core.Symbol.make("open-input-output-file"),exists_desc,exists2941);}if_res1760;return M3.open_input_output_file(path2939,mode2940,exists2941);};var unpack23 = function(given_kws2942, given_args2943, path212944) {if (M3.pair_p(given_kws2942)) {var if_res1761 = M3.eq_p($rjs_core.Keyword.make('#:exists'),M3.car(given_kws2942));} else {var if_res1761 = false;}var exists202945 = if_res1761;if (exists202945) {var if_res1762 = M3.car(given_args2943);} else {var if_res1762 = M3.rvoid();}var exists182946 = if_res1762;if (exists202945) {var if_res1763 = M3.cdr(given_kws2942);} else {var if_res1763 = given_kws2942;}var given_kws2947 = if_res1763;if (exists202945) {var if_res1764 = M3.cdr(given_args2943);} else {var if_res1764 = given_args2943;}var given_args2948 = if_res1764;var mode192949 = M3.pair_p(given_kws2947);if (mode192949) {var if_res1765 = M3.car(given_args2948);} else {var if_res1765 = M3.rvoid();}var mode172950 = if_res1765;return open_input_output_file22(exists182946,exists202945,mode172950,mode192949,path212944);};var cl1768 = function(given_kws2957, given_args2958, path2959) {return unpack23(given_kws2957,given_args2958,path2959);};var temp1770 = $rjs_core.attachProcedureArity(function() {var fixed_lam1769 = {'3':cl1768}[arguments.length];if (fixed_lam1769!==undefined) {return fixed_lam1769.apply(null,arguments);} else {return M3.error("case-lambda: invalid case");}},[3]);var cl1766 = function(path2961) {return unpack23(M3.rnull,M3.rnull,path2961);};var open_input_output_file2960 = $rjs_core.attachProcedureArity(function() {var fixed_lam1767 = {'1':cl1766}[arguments.length];if (fixed_lam1767!==undefined) {return fixed_lam1767.apply(null,arguments);} else {return M3.error("case-lambda: invalid case");}},[1]);var open_input_output_file24 = M0.__rjs_quoted__.make_optional_keyword_procedure(function(given_kws2951, given_argc2952) {if (M3._eq_(given_argc2952,3)) {var l12953 = given_kws2951;if (M3.null_p(l12953)) {var if_res1772 = l12953;} else {if (M3.eq_p(M3.car(l12953),$rjs_core.Keyword.make('#:exists'))) {var if_res1771 = M3.cdr(l12953);} else {var if_res1771 = l12953;}var if_res1772 = if_res1771;}var l12954 = if_res1772;var l12955 = l12954;if (M3.null_p(l12955)) {var if_res1774 = l12955;} else {if (M3.eq_p(M3.car(l12955),$rjs_core.Keyword.make('#:mode'))) {var if_res1773 = M3.cdr(l12955);} else {var if_res1773 = l12955;}var if_res1774 = if_res1773;}var l12956 = if_res1774;var if_res1775 = M3.null_p(l12956);} else {var if_res1775 = false;}return if_res1775;},temp1770,M3.rnull,$rjs_core.Pair.makeList($rjs_core.Keyword.make('#:exists'), $rjs_core.Keyword.make('#:mode')),open_input_output_file2960);var call_with_input_file29 = function(mode252962, mode262963, path272964, proc282965) {var path2966 = path272964;var proc2967 = proc282965;if (mode262963) {var if_res1776 = mode252962;} else {var if_res1776 = $rjs_core.Symbol.make("binary");}var mode2968 = if_res1776;if (M4.path_string_p(path2966)) {var if_res1777 = M3.rvoid();} else {var if_res1777 = M3.raise_argument_error($rjs_core.Symbol.make("call-with-input-file"),"path-string?",path2966);}if_res1777;if (M3.procedure_p(proc2967)) {var if_res1778 = M3.procedure_arity_includes_p(proc2967,1);} else {var if_res1778 = false;}if (if_res1778) {var if_res1779 = M3.rvoid();} else {var if_res1779 = M3.raise_argument_error($rjs_core.Symbol.make("call-with-input-file"),"(input-port? . -> . any)",proc2967);}if_res1779;if (M2.memq(mode2968,$rjs_core.Pair.makeList($rjs_core.Symbol.make("binary"), $rjs_core.Symbol.make("text")))) {var if_res1780 = M3.rvoid();} else {var if_res1780 = M3.raise_argument_error($rjs_core.Symbol.make("call-with-input-file"),binary_or_text_desc,mode2968);}if_res1780;return M3.call_with_input_file(path2966,proc2967,mode2968);};var unpack30 = function(given_kws2969, given_args2970, path272971, proc282972) {var mode262973 = M3.pair_p(given_kws2969);if (mode262973) {var if_res1781 = M3.car(given_args2970);} else {var if_res1781 = M3.rvoid();}var mode252974 = if_res1781;return call_with_input_file29(mode252974,mode262973,path272971,proc282972);};var cl1784 = function(given_kws2979, given_args2980, path2981, proc2982) {return unpack30(given_kws2979,given_args2980,path2981,proc2982);};var temp1786 = $rjs_core.attachProcedureArity(function() {var fixed_lam1785 = {'4':cl1784}[arguments.length];if (fixed_lam1785!==undefined) {return fixed_lam1785.apply(null,arguments);} else {return M3.error("case-lambda: invalid case");}},[4]);var cl1782 = function(path2984, proc2985) {return unpack30(M3.rnull,M3.rnull,path2984,proc2985);};var call_with_input_file2983 = $rjs_core.attachProcedureArity(function() {var fixed_lam1783 = {'2':cl1782}[arguments.length];if (fixed_lam1783!==undefined) {return fixed_lam1783.apply(null,arguments);} else {return M3.error("case-lambda: invalid case");}},[2]);var call_with_input_file31 = M0.__rjs_quoted__.make_optional_keyword_procedure(function(given_kws2975, given_argc2976) {if (M3._eq_(given_argc2976,4)) {var l12977 = given_kws2975;if (M3.null_p(l12977)) {var if_res1788 = l12977;} else {if (M3.eq_p(M3.car(l12977),$rjs_core.Keyword.make('#:mode'))) {var if_res1787 = M3.cdr(l12977);} else {var if_res1787 = l12977;}var if_res1788 = if_res1787;}var l12978 = if_res1788;var if_res1789 = M3.null_p(l12978);} else {var if_res1789 = false;}return if_res1789;},temp1786,M3.rnull,$rjs_core.Pair.makeList($rjs_core.Keyword.make('#:mode')),call_with_input_file2983);var call_with_output_file38 = function(exists332986, exists352987, mode322988, mode342989, path362990, proc372991) {var path2992 = path362990;var proc2993 = proc372991;if (mode342989) {var if_res1790 = mode322988;} else {var if_res1790 = $rjs_core.Symbol.make("binary");}var mode2994 = if_res1790;if (exists352987) {var if_res1791 = exists332986;} else {var if_res1791 = $rjs_core.Symbol.make("error");}var exists2995 = if_res1791;if (M4.path_string_p(path2992)) {var if_res1792 = M3.rvoid();} else {var if_res1792 = M3.raise_argument_error($rjs_core.Symbol.make("call-with-output-file"),"path-string?",path2992);}if_res1792;if (M3.procedure_p(proc2993)) {var if_res1793 = M3.procedure_arity_includes_p(proc2993,1);} else {var if_res1793 = false;}if (if_res1793) {var if_res1794 = M3.rvoid();} else {var if_res1794 = M3.raise_argument_error($rjs_core.Symbol.make("call-with-output-file"),"(output-port? . -> . any)",proc2993);}if_res1794;if (M2.memq(mode2994,$rjs_core.Pair.makeList($rjs_core.Symbol.make("binary"), $rjs_core.Symbol.make("text")))) {var if_res1795 = M3.rvoid();} else {var if_res1795 = M3.raise_argument_error($rjs_core.Symbol.make("call-with-output-file"),binary_or_text_desc,mode2994);}if_res1795;if (M2.memq(exists2995,exists_syms)) {var if_res1796 = M3.rvoid();} else {var if_res1796 = M3.raise_argument_error($rjs_core.Symbol.make("call-with-output-file"),exists_desc,exists2995);}if_res1796;return M3.call_with_output_file(path2992,proc2993,mode2994,exists2995);};var unpack39 = function(given_kws2996, given_args2997, path362998, proc372999) {if (M3.pair_p(given_kws2996)) {var if_res1797 = M3.eq_p($rjs_core.Keyword.make('#:exists'),M3.car(given_kws2996));} else {var if_res1797 = false;}var exists353000 = if_res1797;if (exists353000) {var if_res1798 = M3.car(given_args2997);} else {var if_res1798 = M3.rvoid();}var exists333001 = if_res1798;if (exists353000) {var if_res1799 = M3.cdr(given_kws2996);} else {var if_res1799 = given_kws2996;}var given_kws3002 = if_res1799;if (exists353000) {var if_res1800 = M3.cdr(given_args2997);} else {var if_res1800 = given_args2997;}var given_args3003 = if_res1800;var mode343004 = M3.pair_p(given_kws3002);if (mode343004) {var if_res1801 = M3.car(given_args3003);} else {var if_res1801 = M3.rvoid();}var mode323005 = if_res1801;return call_with_output_file38(exists333001,exists353000,mode323005,mode343004,path362998,proc372999);};var cl1804 = function(given_kws3012, given_args3013, path3014, proc3015) {return unpack39(given_kws3012,given_args3013,path3014,proc3015);};var temp1806 = $rjs_core.attachProcedureArity(function() {var fixed_lam1805 = {'4':cl1804}[arguments.length];if (fixed_lam1805!==undefined) {return fixed_lam1805.apply(null,arguments);} else {return M3.error("case-lambda: invalid case");}},[4]);var cl1802 = function(path3017, proc3018) {return unpack39(M3.rnull,M3.rnull,path3017,proc3018);};var call_with_output_file3016 = $rjs_core.attachProcedureArity(function() {var fixed_lam1803 = {'2':cl1802}[arguments.length];if (fixed_lam1803!==undefined) {return fixed_lam1803.apply(null,arguments);} else {return M3.error("case-lambda: invalid case");}},[2]);var call_with_output_file40 = M0.__rjs_quoted__.make_optional_keyword_procedure(function(given_kws3006, given_argc3007) {if (M3._eq_(given_argc3007,4)) {var l13008 = given_kws3006;if (M3.null_p(l13008)) {var if_res1808 = l13008;} else {if (M3.eq_p(M3.car(l13008),$rjs_core.Keyword.make('#:exists'))) {var if_res1807 = M3.cdr(l13008);} else {var if_res1807 = l13008;}var if_res1808 = if_res1807;}var l13009 = if_res1808;var l13010 = l13009;if (M3.null_p(l13010)) {var if_res1810 = l13010;} else {if (M3.eq_p(M3.car(l13010),$rjs_core.Keyword.make('#:mode'))) {var if_res1809 = M3.cdr(l13010);} else {var if_res1809 = l13010;}var if_res1810 = if_res1809;}var l13011 = if_res1810;var if_res1811 = M3.null_p(l13011);} else {var if_res1811 = false;}return if_res1811;},temp1806,M3.rnull,$rjs_core.Pair.makeList($rjs_core.Keyword.make('#:exists'), $rjs_core.Keyword.make('#:mode')),call_with_output_file3016);var with_input_from_file45 = function(mode413019, mode423020, path433021, proc443022) {var path3023 = path433021;var proc3024 = proc443022;if (mode423020) {var if_res1812 = mode413019;} else {var if_res1812 = $rjs_core.Symbol.make("binary");}var mode3025 = if_res1812;if (M4.path_string_p(path3023)) {var if_res1813 = M3.rvoid();} else {var if_res1813 = M3.raise_argument_error($rjs_core.Symbol.make("with-input-from-file"),"path-string?",path3023);}if_res1813;if (M3.procedure_p(proc3024)) {var if_res1814 = M3.procedure_arity_includes_p(proc3024,0);} else {var if_res1814 = false;}if (if_res1814) {var if_res1815 = M3.rvoid();} else {var if_res1815 = M3.raise_argument_error($rjs_core.Symbol.make("with-input-from-file"),"(-> any)",proc3024);}if_res1815;if (M2.memq(mode3025,$rjs_core.Pair.makeList($rjs_core.Symbol.make("binary"), $rjs_core.Symbol.make("text")))) {var if_res1816 = M3.rvoid();} else {var if_res1816 = M3.raise_argument_error($rjs_core.Symbol.make("with-input-from-file"),binary_or_text_desc,mode3025);}if_res1816;return M3.with_input_from_file(path3023,proc3024,mode3025);};var unpack46 = function(given_kws3026, given_args3027, path433028, proc443029) {var mode423030 = M3.pair_p(given_kws3026);if (mode423030) {var if_res1817 = M3.car(given_args3027);} else {var if_res1817 = M3.rvoid();}var mode413031 = if_res1817;return with_input_from_file45(mode413031,mode423030,path433028,proc443029);};var cl1820 = function(given_kws3036, given_args3037, path3038, proc3039) {return unpack46(given_kws3036,given_args3037,path3038,proc3039);};var temp1822 = $rjs_core.attachProcedureArity(function() {var fixed_lam1821 = {'4':cl1820}[arguments.length];if (fixed_lam1821!==undefined) {return fixed_lam1821.apply(null,arguments);} else {return M3.error("case-lambda: invalid case");}},[4]);var cl1818 = function(path3041, proc3042) {return unpack46(M3.rnull,M3.rnull,path3041,proc3042);};var with_input_from_file3040 = $rjs_core.attachProcedureArity(function() {var fixed_lam1819 = {'2':cl1818}[arguments.length];if (fixed_lam1819!==undefined) {return fixed_lam1819.apply(null,arguments);} else {return M3.error("case-lambda: invalid case");}},[2]);var with_input_from_file47 = M0.__rjs_quoted__.make_optional_keyword_procedure(function(given_kws3032, given_argc3033) {if (M3._eq_(given_argc3033,4)) {var l13034 = given_kws3032;if (M3.null_p(l13034)) {var if_res1824 = l13034;} else {if (M3.eq_p(M3.car(l13034),$rjs_core.Keyword.make('#:mode'))) {var if_res1823 = M3.cdr(l13034);} else {var if_res1823 = l13034;}var if_res1824 = if_res1823;}var l13035 = if_res1824;var if_res1825 = M3.null_p(l13035);} else {var if_res1825 = false;}return if_res1825;},temp1822,M3.rnull,$rjs_core.Pair.makeList($rjs_core.Keyword.make('#:mode')),with_input_from_file3040);var with_output_to_file54 = function(exists493043, exists513044, mode483045, mode503046, path523047, proc533048) {var path3049 = path523047;var proc3050 = proc533048;if (mode503046) {var if_res1826 = mode483045;} else {var if_res1826 = $rjs_core.Symbol.make("binary");}var mode3051 = if_res1826;if (exists513044) {var if_res1827 = exists493043;} else {var if_res1827 = $rjs_core.Symbol.make("error");}var exists3052 = if_res1827;if (M4.path_string_p(path3049)) {var if_res1828 = M3.rvoid();} else {var if_res1828 = M3.raise_argument_error($rjs_core.Symbol.make("with-output-to-file"),"path-string?",path3049);}if_res1828;if (M3.procedure_p(proc3050)) {var if_res1829 = M3.procedure_arity_includes_p(proc3050,0);} else {var if_res1829 = false;}if (if_res1829) {var if_res1830 = M3.rvoid();} else {var if_res1830 = M3.raise_argument_error($rjs_core.Symbol.make("with-output-to-file"),"(-> any)",proc3050);}if_res1830;if (M2.memq(mode3051,$rjs_core.Pair.makeList($rjs_core.Symbol.make("binary"), $rjs_core.Symbol.make("text")))) {var if_res1831 = M3.rvoid();} else {var if_res1831 = M3.raise_argument_error($rjs_core.Symbol.make("with-output-to-file"),binary_or_text_desc,mode3051);}if_res1831;if (M2.memq(exists3052,exists_syms)) {var if_res1832 = M3.rvoid();} else {var if_res1832 = M3.raise_argument_error($rjs_core.Symbol.make("with-output-to-file"),exists_desc,exists3052);}if_res1832;return M3.with_output_to_file(path3049,proc3050,mode3051,exists3052);};var unpack55 = function(given_kws3053, given_args3054, path523055, proc533056) {if (M3.pair_p(given_kws3053)) {var if_res1833 = M3.eq_p($rjs_core.Keyword.make('#:exists'),M3.car(given_kws3053));} else {var if_res1833 = false;}var exists513057 = if_res1833;if (exists513057) {var if_res1834 = M3.car(given_args3054);} else {var if_res1834 = M3.rvoid();}var exists493058 = if_res1834;if (exists513057) {var if_res1835 = M3.cdr(given_kws3053);} else {var if_res1835 = given_kws3053;}var given_kws3059 = if_res1835;if (exists513057) {var if_res1836 = M3.cdr(given_args3054);} else {var if_res1836 = given_args3054;}var given_args3060 = if_res1836;var mode503061 = M3.pair_p(given_kws3059);if (mode503061) {var if_res1837 = M3.car(given_args3060);} else {var if_res1837 = M3.rvoid();}var mode483062 = if_res1837;return with_output_to_file54(exists493058,exists513057,mode483062,mode503061,path523055,proc533056);};var cl1840 = function(given_kws3069, given_args3070, path3071, proc3072) {return unpack55(given_kws3069,given_args3070,path3071,proc3072);};var temp1842 = $rjs_core.attachProcedureArity(function() {var fixed_lam1841 = {'4':cl1840}[arguments.length];if (fixed_lam1841!==undefined) {return fixed_lam1841.apply(null,arguments);} else {return M3.error("case-lambda: invalid case");}},[4]);var cl1838 = function(path3074, proc3075) {return unpack55(M3.rnull,M3.rnull,path3074,proc3075);};var with_output_to_file3073 = $rjs_core.attachProcedureArity(function() {var fixed_lam1839 = {'2':cl1838}[arguments.length];if (fixed_lam1839!==undefined) {return fixed_lam1839.apply(null,arguments);} else {return M3.error("case-lambda: invalid case");}},[2]);var with_output_to_file56 = M0.__rjs_quoted__.make_optional_keyword_procedure(function(given_kws3063, given_argc3064) {if (M3._eq_(given_argc3064,4)) {var l13065 = given_kws3063;if (M3.null_p(l13065)) {var if_res1844 = l13065;} else {if (M3.eq_p(M3.car(l13065),$rjs_core.Keyword.make('#:exists'))) {var if_res1843 = M3.cdr(l13065);} else {var if_res1843 = l13065;}var if_res1844 = if_res1843;}var l13066 = if_res1844;var l13067 = l13066;if (M3.null_p(l13067)) {var if_res1846 = l13067;} else {if (M3.eq_p(M3.car(l13067),$rjs_core.Keyword.make('#:mode'))) {var if_res1845 = M3.cdr(l13067);} else {var if_res1845 = l13067;}var if_res1846 = if_res1845;}var l13068 = if_res1846;var if_res1847 = M3.null_p(l13068);} else {var if_res1847 = false;}return if_res1847;},temp1842,M3.rnull,$rjs_core.Pair.makeList($rjs_core.Keyword.make('#:exists'), $rjs_core.Keyword.make('#:mode')),with_output_to_file3073);var call_with_input_file_times_61 = function(mode573076, mode583077, path593078, proc603079) {var path3080 = path593078;var proc3081 = proc603079;if (mode583077) {var if_res1848 = mode573076;} else {var if_res1848 = $rjs_core.Symbol.make("binary");}var mode3082 = if_res1848;if (M4.path_string_p(path3080)) {var if_res1849 = M3.rvoid();} else {var if_res1849 = M3.raise_argument_error($rjs_core.Symbol.make("call-with-input-file*"),"path-string?",path3080);}if_res1849;if (M3.procedure_p(proc3081)) {var if_res1850 = M3.procedure_arity_includes_p(proc3081,1);} else {var if_res1850 = false;}if (if_res1850) {var if_res1851 = M3.rvoid();} else {var if_res1851 = M3.raise_argument_error($rjs_core.Symbol.make("call-with-input-file*"),"(input-port? . -> . any)",proc3081);}if_res1851;if (M2.memq(mode3082,$rjs_core.Pair.makeList($rjs_core.Symbol.make("binary"), $rjs_core.Symbol.make("text")))) {var if_res1852 = M3.rvoid();} else {var if_res1852 = M3.raise_argument_error($rjs_core.Symbol.make("call-with-input-file*"),binary_or_text_desc,mode3082);}if_res1852;var p3083 = M3.open_input_file(path3080,mode3082);return M3.dynamic_wind(M3.rvoid,function() {return proc3081(p3083);},function() {return M3.close_input_port(p3083);});};var unpack62 = function(given_kws3084, given_args3085, path593086, proc603087) {var mode583088 = M3.pair_p(given_kws3084);if (mode583088) {var if_res1853 = M3.car(given_args3085);} else {var if_res1853 = M3.rvoid();}var mode573089 = if_res1853;return call_with_input_file_times_61(mode573089,mode583088,path593086,proc603087);};var cl1856 = function(given_kws3094, given_args3095, path3096, proc3097) {return unpack62(given_kws3094,given_args3095,path3096,proc3097);};var temp1858 = $rjs_core.attachProcedureArity(function() {var fixed_lam1857 = {'4':cl1856}[arguments.length];if (fixed_lam1857!==undefined) {return fixed_lam1857.apply(null,arguments);} else {return M3.error("case-lambda: invalid case");}},[4]);var cl1854 = function(path3099, proc3100) {return unpack62(M3.rnull,M3.rnull,path3099,proc3100);};var call_with_input_file_times_3098 = $rjs_core.attachProcedureArity(function() {var fixed_lam1855 = {'2':cl1854}[arguments.length];if (fixed_lam1855!==undefined) {return fixed_lam1855.apply(null,arguments);} else {return M3.error("case-lambda: invalid case");}},[2]);var call_with_input_file_times_63 = M0.__rjs_quoted__.make_optional_keyword_procedure(function(given_kws3090, given_argc3091) {if (M3._eq_(given_argc3091,4)) {var l13092 = given_kws3090;if (M3.null_p(l13092)) {var if_res1860 = l13092;} else {if (M3.eq_p(M3.car(l13092),$rjs_core.Keyword.make('#:mode'))) {var if_res1859 = M3.cdr(l13092);} else {var if_res1859 = l13092;}var if_res1860 = if_res1859;}var l13093 = if_res1860;var if_res1861 = M3.null_p(l13093);} else {var if_res1861 = false;}return if_res1861;},temp1858,M3.rnull,$rjs_core.Pair.makeList($rjs_core.Keyword.make('#:mode')),call_with_input_file_times_3098);var call_with_output_file_times_70 = function(exists653101, exists673102, mode643103, mode663104, path683105, proc693106) {var path3107 = path683105;var proc3108 = proc693106;if (mode663104) {var if_res1862 = mode643103;} else {var if_res1862 = $rjs_core.Symbol.make("binary");}var mode3109 = if_res1862;if (exists673102) {var if_res1863 = exists653101;} else {var if_res1863 = $rjs_core.Symbol.make("error");}var exists3110 = if_res1863;if (M4.path_string_p(path3107)) {var if_res1864 = M3.rvoid();} else {var if_res1864 = M3.raise_argument_error($rjs_core.Symbol.make("call-with-output-file*"),"path-string?",path3107);}if_res1864;if (M3.procedure_p(proc3108)) {var if_res1865 = M3.procedure_arity_includes_p(proc3108,1);} else {var if_res1865 = false;}if (if_res1865) {var if_res1866 = M3.rvoid();} else {var if_res1866 = M3.raise_argument_error($rjs_core.Symbol.make("call-with-output-file*"),"(output-port? . -> . any)",proc3108);}if_res1866;if (M2.memq(mode3109,$rjs_core.Pair.makeList($rjs_core.Symbol.make("binary"), $rjs_core.Symbol.make("text")))) {var if_res1867 = M3.rvoid();} else {var if_res1867 = M3.raise_argument_error($rjs_core.Symbol.make("call-with-output-file*"),binary_or_text_desc,mode3109);}if_res1867;if (M2.memq(exists3110,exists_syms)) {var if_res1868 = M3.rvoid();} else {var if_res1868 = M3.raise_argument_error($rjs_core.Symbol.make("call-with-output-file*"),exists_desc,exists3110);}if_res1868;var p3111 = M3.open_output_file(path3107,mode3109,exists3110);return M3.dynamic_wind(M3.rvoid,function() {return proc3108(p3111);},function() {return M3.close_output_port(p3111);});};var unpack71 = function(given_kws3112, given_args3113, path683114, proc693115) {if (M3.pair_p(given_kws3112)) {var if_res1869 = M3.eq_p($rjs_core.Keyword.make('#:exists'),M3.car(given_kws3112));} else {var if_res1869 = false;}var exists673116 = if_res1869;if (exists673116) {var if_res1870 = M3.car(given_args3113);} else {var if_res1870 = M3.rvoid();}var exists653117 = if_res1870;if (exists673116) {var if_res1871 = M3.cdr(given_kws3112);} else {var if_res1871 = given_kws3112;}var given_kws3118 = if_res1871;if (exists673116) {var if_res1872 = M3.cdr(given_args3113);} else {var if_res1872 = given_args3113;}var given_args3119 = if_res1872;var mode663120 = M3.pair_p(given_kws3118);if (mode663120) {var if_res1873 = M3.car(given_args3119);} else {var if_res1873 = M3.rvoid();}var mode643121 = if_res1873;return call_with_output_file_times_70(exists653117,exists673116,mode643121,mode663120,path683114,proc693115);};var cl1876 = function(given_kws3128, given_args3129, path3130, proc3131) {return unpack71(given_kws3128,given_args3129,path3130,proc3131);};var temp1878 = $rjs_core.attachProcedureArity(function() {var fixed_lam1877 = {'4':cl1876}[arguments.length];if (fixed_lam1877!==undefined) {return fixed_lam1877.apply(null,arguments);} else {return M3.error("case-lambda: invalid case");}},[4]);var cl1874 = function(path3133, proc3134) {return unpack71(M3.rnull,M3.rnull,path3133,proc3134);};var call_with_output_file_times_3132 = $rjs_core.attachProcedureArity(function() {var fixed_lam1875 = {'2':cl1874}[arguments.length];if (fixed_lam1875!==undefined) {return fixed_lam1875.apply(null,arguments);} else {return M3.error("case-lambda: invalid case");}},[2]);var call_with_output_file_times_72 = M0.__rjs_quoted__.make_optional_keyword_procedure(function(given_kws3122, given_argc3123) {if (M3._eq_(given_argc3123,4)) {var l13124 = given_kws3122;if (M3.null_p(l13124)) {var if_res1880 = l13124;} else {if (M3.eq_p(M3.car(l13124),$rjs_core.Keyword.make('#:exists'))) {var if_res1879 = M3.cdr(l13124);} else {var if_res1879 = l13124;}var if_res1880 = if_res1879;}var l13125 = if_res1880;var l13126 = l13125;if (M3.null_p(l13126)) {var if_res1882 = l13126;} else {if (M3.eq_p(M3.car(l13126),$rjs_core.Keyword.make('#:mode'))) {var if_res1881 = M3.cdr(l13126);} else {var if_res1881 = l13126;}var if_res1882 = if_res1881;}var l13127 = if_res1882;var if_res1883 = M3.null_p(l13127);} else {var if_res1883 = false;}return if_res1883;},temp1878,M3.rnull,$rjs_core.Pair.makeList($rjs_core.Keyword.make('#:exists'), $rjs_core.Keyword.make('#:mode')),call_with_output_file_times_3132);var core773135 = function(build_p733136, build_p743137, dir753138, dir763139) {if (dir763139) {var if_res1884 = dir753138;} else {var if_res1884 = M3.current_directory();}var dir3140 = if_res1884;if (build_p743137) {var if_res1885 = build_p733136;} else {var if_res1885 = false;}var build_p3141 = if_res1885;if (M4.path_string_p(dir3140)) {var if_res1886 = M3.rvoid();} else {var if_res1886 = M3.raise_argument_error($rjs_core.Symbol.make("directory-list"),"path-string?",dir3140);}if_res1886;var content3142 = M5.sort(M3.directory_list(dir3140),M3.path_lt__p);if (build_p3141) {var if_res1887 = M1.map(function(i3143) {return M3.build_path(dir3140,i3143);},content3142);} else {var if_res1887 = content3142;}return if_res1887;};var unpack783144 = function(given_kws3145, given_args3146, dir753147, dir763148) {var build_p743149 = M3.pair_p(given_kws3145);if (build_p743149) {var if_res1888 = M3.car(given_args3146);} else {var if_res1888 = M3.rvoid();}var build_p733150 = if_res1888;return core773135(build_p733150,build_p743149,dir753147,dir763148);};var cl1892 = function(given_kws3155, given_args3156) {return unpack783144(given_kws3155,given_args3156,false,false);};var cl1893 = function(given_kws3157, given_args3158, dir753159) {return unpack783144(given_kws3157,given_args3158,dir753159,true);};var temp1895 = $rjs_core.attachProcedureArity(function() {var fixed_lam1894 = {'2':cl1892,'3':cl1893}[arguments.length];if (fixed_lam1894!==undefined) {return fixed_lam1894.apply(null,arguments);} else {return M3.error("case-lambda: invalid case");}},[2,3]);var cl1889 = function() {return unpack783144(M3.rnull,M3.rnull,false,false);};var cl1890 = function(dir753161) {return unpack783144(M3.rnull,M3.rnull,dir753161,true);};var directory_list3160 = $rjs_core.attachProcedureArity(function() {var fixed_lam1891 = {'0':cl1889,'1':cl1890}[arguments.length];if (fixed_lam1891!==undefined) {return fixed_lam1891.apply(null,arguments);} else {return M3.error("case-lambda: invalid case");}},[0,1]);var directory_list = M0.__rjs_quoted__.make_optional_keyword_procedure(function(given_kws3151, given_argc3152) {if (M3._gt__eq_(given_argc3152,2)) {var if_res1896 = M3._lt__eq_(given_argc3152,3);} else {var if_res1896 = false;}if (if_res1896) {var l13153 = given_kws3151;if (M3.null_p(l13153)) {var if_res1898 = l13153;} else {if (M3.eq_p(M3.car(l13153),$rjs_core.Keyword.make('#:build?'))) {var if_res1897 = M3.cdr(l13153);} else {var if_res1897 = l13153;}var if_res1898 = if_res1897;}var l13154 = if_res1898;var if_res1899 = M3.null_p(l13154);} else {var if_res1899 = false;}return if_res1899;},temp1895,M3.rnull,$rjs_core.Pair.makeList($rjs_core.Keyword.make('#:build?')),directory_list3160);var __rjs_quoted__ = {};__rjs_quoted__.open_input_output_file22 = open_input_output_file22;__rjs_quoted__.call_with_input_file31 = call_with_input_file31;__rjs_quoted__.call_with_output_file40 = call_with_output_file40;__rjs_quoted__.call_with_input_file_times_61 = call_with_input_file_times_61;__rjs_quoted__.call_with_input_file29 = call_with_input_file29;__rjs_quoted__.open_output_file14 = open_output_file14;__rjs_quoted__.call_with_output_file_times_72 = call_with_output_file_times_72;__rjs_quoted__.open_output_file16 = open_output_file16;__rjs_quoted__.with_output_to_file54 = with_output_to_file54;__rjs_quoted__.with_output_to_file56 = with_output_to_file56;__rjs_quoted__.call_with_output_file38 = call_with_output_file38;__rjs_quoted__.call_with_input_file_times_63 = call_with_input_file_times_63;__rjs_quoted__.open_input_file6 = open_input_file6;__rjs_quoted__.with_input_from_file47 = with_input_from_file47;__rjs_quoted__.open_input_output_file24 = open_input_output_file24;__rjs_quoted__.open_input_file8 = open_input_file8;__rjs_quoted__.with_input_from_file45 = with_input_from_file45;__rjs_quoted__.call_with_output_file_times_70 = call_with_output_file_times_70;export { __rjs_quoted__,directory_list as _directory_list };