"use strict";
exports.__esModule = true;
var c151a835ceacdb11090d1960ae92771fe;
if (typeof c151a835ceacdb11090d1960ae92771fe === "undefined")
    c151a835ceacdb11090d1960ae92771fe = $ir_contract_for("number");
$ir_obj_def_const(this, "c151a835ceacdb11090d1960ae92771fec", c151a835ceacdb11090d1960ae92771fe, true);
var c39c6844c921cf69656adaa2a8e4aea0c;
if (typeof c39c6844c921cf69656adaa2a8e4aea0c === "undefined")
    c39c6844c921cf69656adaa2a8e4aea0c = $ir_contract_for("string");
$ir_obj_def_const(this, "c39c6844c921cf69656adaa2a8e4aea0cc", c39c6844c921cf69656adaa2a8e4aea0c, true);
function c662ea7dc8a9f859acf376aa67873938ff() {
    "Array";
    if (typeof c662ea7dc8a9f859acf376aa67873938f !== "undefined")
        return c662ea7dc8a9f859acf376aa67873938f;
    var co = $ir_contract_for("object");
    var c = co;
    c = $ir_contract_oblige_member(c, "length", co);
    c = $ir_contract_oblige_array(c, co);
    c662ea7dc8a9f859acf376aa67873938f = c;
    $ir_contract_oblige_member(c, "length", c151a835ceacdb11090d1960ae92771fe);
    c = $ir_contract_oblige_array(c, c39c6844c921cf69656adaa2a8e4aea0c);
    return c;
}
var c662ea7dc8a9f859acf376aa67873938f;
if (typeof c662ea7dc8a9f859acf376aa67873938f === "undefined")
    c662ea7dc8a9f859acf376aa67873938f = c662ea7dc8a9f859acf376aa67873938ff();
$ir_obj_def_const(this, "c662ea7dc8a9f859acf376aa67873938fc", c662ea7dc8a9f859acf376aa67873938f, true);
function cec88372874868d65bd05d6a88c713cddf() {
    "Label";
    if (typeof cec88372874868d65bd05d6a88c713cdd !== "undefined")
        return cec88372874868d65bd05d6a88c713cdd;
    var co = $ir_contract_for("object");
    var c = co;
    c = $ir_contract_oblige_member(c, "datum", co);
    c = $ir_contract_oblige_member(c, "i", co);
    c = $ir_contract_oblige_member(c, "j", co);
    cec88372874868d65bd05d6a88c713cdd = c;
    $ir_contract_oblige_member(c, "datum", c39c6844c921cf69656adaa2a8e4aea0c);
    $ir_contract_oblige_member(c, "i", c151a835ceacdb11090d1960ae92771fe);
    $ir_contract_oblige_member(c, "j", c151a835ceacdb11090d1960ae92771fe);
    return c;
}
var cec88372874868d65bd05d6a88c713cdd;
if (typeof cec88372874868d65bd05d6a88c713cdd === "undefined")
    cec88372874868d65bd05d6a88c713cdd = cec88372874868d65bd05d6a88c713cddf();
$ir_obj_def_const(this, "cec88372874868d65bd05d6a88c713cddc", cec88372874868d65bd05d6a88c713cdd, true);
function c84fb510a892c3bfcd3fbde636cfc1fdcf() {
    "Array";
    if (typeof c84fb510a892c3bfcd3fbde636cfc1fdc !== "undefined")
        return c84fb510a892c3bfcd3fbde636cfc1fdc;
    var co = $ir_contract_for("object");
    var c = co;
    c = $ir_contract_oblige_member(c, "length", co);
    c = $ir_contract_oblige_array(c, co);
    c84fb510a892c3bfcd3fbde636cfc1fdc = c;
    $ir_contract_oblige_member(c, "length", c151a835ceacdb11090d1960ae92771fe);
    c = $ir_contract_oblige_array(c, c1919ec94bf6e77835438f19b15184bdbf());
    return c;
}
var c84fb510a892c3bfcd3fbde636cfc1fdc;
if (typeof c84fb510a892c3bfcd3fbde636cfc1fdc === "undefined")
    c84fb510a892c3bfcd3fbde636cfc1fdc = c84fb510a892c3bfcd3fbde636cfc1fdcf();
$ir_obj_def_const(this, "c84fb510a892c3bfcd3fbde636cfc1fdcc", c84fb510a892c3bfcd3fbde636cfc1fdc, true);
function c1919ec94bf6e77835438f19b15184bdbf() {
    "STNode";
    if (typeof c1919ec94bf6e77835438f19b15184bdb !== "undefined")
        return c1919ec94bf6e77835438f19b15184bdb;
    var co = $ir_contract_for("object");
    var c = co;
    c = $ir_contract_oblige_member(c, "upLabel", co);
    c = $ir_contract_oblige_member(c, "parent", co);
    c = $ir_contract_oblige_member(c, "children", co);
    c = $ir_contract_oblige_member(c, "suffixLink", co);
    c = $ir_contract_oblige_member(c, "spID", co);
    c1919ec94bf6e77835438f19b15184bdb = c;
    $ir_contract_oblige_member(c, "upLabel", cec88372874868d65bd05d6a88c713cddf());
    $ir_contract_oblige_member(c, "parent", c1919ec94bf6e77835438f19b15184bdbf());
    $ir_contract_oblige_member(c, "children", c84fb510a892c3bfcd3fbde636cfc1fdcf());
    $ir_contract_oblige_member(c, "suffixLink", c1919ec94bf6e77835438f19b15184bdbf());
    $ir_contract_oblige_member(c, "spID", c151a835ceacdb11090d1960ae92771fe);
    return c;
}
var c1919ec94bf6e77835438f19b15184bdb;
if (typeof c1919ec94bf6e77835438f19b15184bdb === "undefined")
    c1919ec94bf6e77835438f19b15184bdb = c1919ec94bf6e77835438f19b15184bdbf();
$ir_obj_def_const(this, "c1919ec94bf6e77835438f19b15184bdbc", c1919ec94bf6e77835438f19b15184bdb, true);
function c039618a25fe49bc46e3571a10332d667f() {
    "SuffixTree";
    if (typeof c039618a25fe49bc46e3571a10332d667 !== "undefined")
        return c039618a25fe49bc46e3571a10332d667;
    var co = $ir_contract_for("object");
    var c = co;
    c = $ir_contract_oblige_member(c, "root", co);
    c039618a25fe49bc46e3571a10332d667 = c;
    $ir_contract_oblige_member(c, "root", c1919ec94bf6e77835438f19b15184bdbf());
    return c;
}
var c039618a25fe49bc46e3571a10332d667;
if (typeof c039618a25fe49bc46e3571a10332d667 === "undefined")
    c039618a25fe49bc46e3571a10332d667 = c039618a25fe49bc46e3571a10332d667f();
$ir_obj_def_const(this, "c039618a25fe49bc46e3571a10332d667c", c039618a25fe49bc46e3571a10332d667, true);
var data_1 = require("./data");
var Label;
(function (Label) {
    // all values are considered possible label elements
    function isLabelElement(x) {
        return true;
    }
    // use built in JS equality to test
    function isLabelElementEqual(x, y) {
        return x == y;
    }
    var sentinelFlag = false;
    // sentinels are # or $, they are inserted at the end of the strings
    function makeSentinel() {
        sentinelFlag = !sentinelFlag;
        if (sentinelFlag) {
            return "#";
        }
        else {
            return "$";
        }
    }
    function isSentinel(datum) {
        return (datum == "#") || (datum == "$");
    }
    function catenateStrings(inVals) {
        $rt_addContract(inVals, c662ea7dc8a9f859acf376aa67873938fc, "label.ts(25,34)");
        var ret = "";
        for (var i = 0; i < inVals.length; i++) {
            ret += inVals[i];
        }
        return ret;
    }
    function vectorToLabel(inVal) {
        $rt_addContract(inVal, c662ea7dc8a9f859acf376aa67873938fc, "label.ts(32,39)");
        var theDatum = catenateStrings(inVal);
        return new data_1.Data.Label(theDatum, 0, theDatum.length);
    }
    Label.vectorToLabel = vectorToLabel;
    // stick a sentinel on the end of the string
    function vectorToLabelWithSentinel(inVal) {
        $rt_addContract(inVal, c662ea7dc8a9f859acf376aa67873938fc, "label.ts(37,51)");
        var theDatum = catenateStrings(inVal);
        return new data_1.Data.Label(theDatum + makeSentinel(), 0, theDatum.length);
    }
    Label.vectorToLabelWithSentinel = vectorToLabelWithSentinel;
    function stringToLabel(inVal) {
        return new data_1.Data.Label(inVal, 0, inVal.length);
    }
    Label.stringToLabel = stringToLabel;
    function stringToLabelWithSentinel(inVal) {
        $rt_check(inVal, "string");
        return new data_1.Data.Label(inVal + makeSentinel(), 0, inVal.length + 1);
    }
    Label.stringToLabelWithSentinel = stringToLabelWithSentinel;
})(Label = exports.Label || (exports.Label = {}));
